{% extends "base.html" %} {% block content %}
<div class="container mt-5">
  <h1>Capture Image</h1>
  <div class="row">
    <div class="col-md-6">
      <!-- Webcam video stream -->
      <video id="video" width="100%" autoplay></video>
      <button id="capture-btn" class="btn btn-primary mt-3">
        Capture Image
      </button>
      <div id="motion-info" class="mt-3">
        <h4>Dominant Motion:</h4>
        <p id="motion-data">No motion detected</p>
      </div>
    </div>

    <div class="col-md-6">
      <h3>Last 3 Captured Images</h3>
      <div id="preview-container" class="row">
        <div class="col-md-4">
          <img
            id="preview-1"
            style="display: none"
            alt="Preview 1"
            height="200px"
            width="200px"
            onclick="selectImage(1)"
          />
        </div>
        <div class="col-md-4">
          <img
            id="preview-2"
            style="display: none"
            alt="Preview 2"
            height="200px"
            width="200px"
            onclick="selectImage(2)"
          />
        </div>
        <div class="col-md-4">
          <img
            id="preview-3"
            style="display: none"
            alt="Preview 3"
            height="200px"
            width="200px"
            onclick="selectImage(3)"
          />
        </div>
      </div>

      <!-- Button to trigger emotion detection on selected image -->
      <button
        id="detect-emotion-btn"
        class="btn btn-warning mt-3"
        style="display: none"
        onclick="detectEmotion()"
      >
        Detect Emotion
      </button>

      <!-- Display detected emotion -->
      <div id="emotion-result" class="mt-4">
        <h3>Detected Emotion:</h3>
        <p id="emotion-data"></p>
      </div>
    </div>
  </div>
</div>
{% block script %}
<script src="{{ url_for('static', filename='js/script.js') }}"></script>
{% endblock %} {% endblock %}
